{
    "SelectAndLockNext1": "select top 1 id, correlation_id, from_endpoint, to_endpoint, retry_count, msg_text, msg_headers, unique_id, retry_time from {0} with (UPDLOCK, READPAST) where subqueue='I' order by retry_time",
    
    "SelectAndLockNext2": "update {0} with(readpast, rowlock) set subqueue='X', last_processed = getdate() where id=@id and subqueue='I'",
    
    "MarkMessageForProcessingLater": "update {0} with(rowlock) set retry_time=@retry_time, last_processed=getdate(), subqueue='R' where id=@id",
    
    "InsertMessageBatch_InsertSql": "INSERT INTO {0} with(rowlock) ([from_endpoint], [to_endpoint],[subqueue],[insert_time],[last_processed],[retry_count],[retry_time],[error_info],[msg_text],[correlation_id],[label], [msg_headers], [unique_id]) VALUES (@from_endpoint{1}, @to_endpoint{1}, @subqueue{1}, getdate(), null, 0, @retry_time{1}, null, {2}, @correl_id{1}, @label{1}, @headers{1}, @unique_id{1});",
    
    "MoveMessageFromRetryToInput": "update {0} with(readpast, rowlock) set subqueue='I' where id=@id and subqueue='R'",
	
    "MarkMessageFailed": "update {0} with(readpast, rowlock) set retry_count = retry_count + {1}, retry_time=@retry_time, error_info=@error_info, last_processed=getdate(), subqueue=@subq where id=@id",
    
    "CleanupProcessedMessages": "delete top(10000) {0} with(READPAST) where retry_time <= @lmt and subqueue='X'",
    
    "MoveScheduledMessagesToInputQueue": "update top (1000) {0} with(READPAST) set subqueue='I' where subqueue='R' and retry_time <= getdate()",
    
	"GetAverageLatencyMs": "select coalesce(avg(DATEDIFF(millisecond, retry_time, last_processed)), 0) from {0} with(nolock) where retry_time >= @time_limit and subqueue='X'",
    
	"RetryAllFailedMessages": "update {0} with(READPAST) set subqueue='I', retry_count=0, error_info=null where subqueue='F'",
    
	"GetSubqueueSize": "select count(*) from {0} with(nolock) where subqueue='{1}'",
    
	"MoveMessageToSubqueue": "update {0} with(READPAST) set subqueue=@sq_to, error_info=null where id=@id'"
    
}
